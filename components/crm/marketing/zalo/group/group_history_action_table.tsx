import styles from "./price_policy.module.css";
import { useRouter } from "next/router";
import { MenuProps, Modal } from "antd";
import { Button, Dropdown, Space } from "antd";
import Link from "next/link";
import { useState } from "react";
// import DelActionModal from "./delete_action_sms";
// import Review from "./review";
import router from "next/router";
// import Resender from "./cancel_modal";
import SendSMS from "../../sms/sendsms";
import { boolean } from "yup";

export interface GroupZaloActionTableProps {
  isPined: boolean;
}

export const MarketingZALOHistoryActionTable: React.FC<
  GroupZaloActionTableProps
> = ({ isPined }) => {
  const [isDelOpen, setIsDelOpen] = useState(false);
  const [isModalCancel, setIsModalCancel] = useState(false);
  const [isModalSend, setIsModalSend] = useState(false);
  const [isModalSendSMS, setIsModalSendSMS] = useState(false);
  const router = useRouter();

  const handleClickAction = (e: any, type: string | undefined) => {
    if (type === "delete") {
      setIsDelOpen(true);
    }
  };
  const items: MenuProps["items"] = [
    {
      key: "1",
      label: (
        <>
          <div
            onClick={async () => {
              setIsModalSend(true),
              await  router.push('group/add-friend-in-group')
            }}
          >
            Thêm bạn bè vào nhóm
          </div>
        </>
      )
    },

    {
      key: "2",
      label: (
        <>
          <div
            onClick={async () => {
              setIsModalSend(true),
              await  router.push('group/add-friend-of-group')
            }}
          >
            Kết bạn thành viên nhóm
          </div>
        </>
      )
    },
    {
      key: "3",
      label: (
        <>
          <div onClick={() => setIsModalSendSMS(true)}>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 20 20"
              fill="none"
              style={{ margin: "-3px 4px" }}
            >
              <g clip-path="url(#clip0_167_439)">
                <path
                  d="M4.44101 3.67308V16.3395H4.78756C7.29026 16.3395 9.793 16.3337 12.2956 16.347C12.6108 16.3505 12.9215 16.4089 13.2073 16.5186C13.6618 16.6959 13.8943 17.0337 13.9065 17.4513C13.9204 17.9264 13.9195 18.4022 13.9074 18.8773C13.9005 19.1379 13.7842 19.3885 13.5784 19.5862C13.3726 19.784 13.09 19.9167 12.7789 19.9617C12.5932 19.9881 12.4049 20.0004 12.2164 19.9984C8.68082 20.0004 5.14525 20.0009 1.60967 19.9998C0.561449 19.9998 0.00812453 19.5508 0.00781878 18.6848C0.00576135 12.8982 0.00315613 7.1117 3.10244e-06 1.32516C-0.00150971 0.597817 0.550259 -0.00721963 1.60674 6.51028e-05C5.15199 0.0245096 8.69764 0.00854972 12.2431 0.0113911C12.4514 0.00721877 12.6595 0.0238939 12.8629 0.0610516C13.4976 0.192484 13.9021 0.630378 13.9096 1.17656C13.9153 1.58632 13.9117 1.99618 13.9108 2.40599C13.9091 3.16644 13.3455 3.6447 12.4193 3.67168C12.3201 3.67457 12.2207 3.67303 12.1214 3.67303C9.68817 3.67309 7.25499 3.6731 4.82181 3.67308L4.44101 3.67308Z"
                  fill="#474747"
                />
                <path
                  d="M13.4729 7.37721C13.4729 6.89918 13.4599 6.44185 13.4758 5.9852C13.5018 5.24387 14.2385 4.7246 15.1303 4.81088C15.5964 4.85597 15.9241 5.08272 16.1928 5.3848C17.256 6.57991 18.3208 7.77407 19.3871 8.96728C20.2053 9.88485 20.2043 10.1247 19.3804 11.0485C18.3154 12.2425 17.2501 13.4363 16.1845 14.63C15.7866 15.0746 15.2564 15.289 14.5829 15.2021C13.965 15.1224 13.5428 14.7581 13.4985 14.2399C13.4615 13.8075 13.4781 13.3721 13.4716 12.9379C13.4702 12.8416 13.4714 12.7452 13.4714 12.6303C13.1973 12.6303 12.9602 12.6303 12.7231 12.6303C11.2833 12.6303 9.84354 12.6302 8.40376 12.6301C7.87553 12.6298 7.5491 12.4001 7.47122 11.9687C7.45097 11.847 7.4415 11.7242 7.44288 11.6014C7.44078 10.5361 7.44092 9.47075 7.44332 8.40543C7.441 8.26622 7.45389 8.12711 7.48186 7.98981C7.5705 7.59616 7.89341 7.37798 8.37617 7.37764C9.95497 7.37653 11.5338 7.37638 13.1126 7.37721L13.4729 7.37721Z"
                  fill="#474747"
                />
              </g>
              <defs>
                <clipPath id="clip0_167_439">
                  <rect width="20" height="20" fill="white" />
                </clipPath>
              </defs>
            </svg>
            Thoát khỏi nhóm
          </div>
        </>
      )
    },
    {
      key: "4",
      label: (
        <>
          {isPined ? (
            <Link href="sms/update">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 20 20"
                fill="none"
                style={{ margin: "-3px 4px" }}
              >
                <path
                  d="M4.23043 13.1179C3.12776 12.1813 2.16571 11.0692 1.11692 10.066C0.534418 9.54989 0.212503 8.75379 0.796047 8.10897C2.32814 6.41672 5.04139 5.79318 7.02727 7.05663L10.6014 3.48961C9.10467 1.34079 12.0466 -1.22911 13.9715 0.653761C14.6469 1.30403 15.304 1.97361 15.9666 2.63725C17.0919 3.76439 18.2246 4.88441 19.3369 6.02444C20.7066 7.42842 19.7414 9.39493 18.3688 9.75216C18.0886 9.83043 17.7949 9.84787 17.5074 9.80333C17.2199 9.75878 16.9452 9.65327 16.7017 9.49386C16.5586 9.40381 16.4531 9.4043 16.33 9.52819C15.1992 10.6856 14.0214 11.8063 12.9102 12.9777C13.8188 14.4007 13.8772 15.8877 13.1666 17.385C12.5345 18.6067 11.44 20.5006 10.0101 18.9682C8.93337 17.8979 7.86273 16.8215 6.79814 15.7389C6.65338 15.5917 6.56896 15.5782 6.40265 15.7145C4.75712 17.0636 3.10685 18.4068 1.45185 19.7443C0.799001 20.3879 -0.281188 19.7081 0.0677593 18.9031C1.37558 16.9186 2.86468 15.0692 4.23043 13.1179Z"
                  fill="#474747"
                />
              </svg>
              Ghim
            </Link>
          ) : (
            <div onClick={() => setIsDelOpen(true)}>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 20 20"
                fill="none"
                style={{ margin: "-3px 4px" }}
              >
                <path
                  d="M3.52474 6.5198C2.48701 6.76012 1.51241 7.31772 0.796047 8.10897C0.212503 8.75379 0.534418 9.54989 1.11692 10.066C1.51781 10.4495 1.90602 10.8489 2.29426 11.2482C2.92172 11.8937 3.54925 12.5393 4.23043 13.1179C3.66498 13.9258 3.07839 14.7162 2.49228 15.5059C1.66272 16.6237 0.834116 17.7402 0.0677593 18.9031C-0.281188 19.7081 0.799001 20.3879 1.45185 19.7443C3.10685 18.4068 4.75712 17.0636 6.40265 15.7145C6.56896 15.5782 6.65338 15.5917 6.79814 15.7389C7.86273 16.8215 8.93337 17.8979 10.0101 18.9682C11.44 20.5006 12.5345 18.6067 13.1666 17.385C13.3063 17.0907 13.4162 16.7968 13.4959 16.5037L3.52474 6.5198Z"
                  fill="#474747"
                />
                <path
                  d="M14.4158 11.4437C14.5771 11.283 14.7387 11.1225 14.9003 10.9621C15.3796 10.4863 15.8588 10.0104 16.33 9.52819C16.4531 9.4043 16.5586 9.40381 16.7017 9.49386C16.9452 9.65327 17.2199 9.75878 17.5074 9.80333C17.7949 9.84787 18.0886 9.83043 18.3688 9.75216C19.7414 9.39493 20.7066 7.42842 19.3369 6.02444C18.5171 5.18422 17.6863 4.35487 16.8554 3.52552C16.559 3.22959 16.2625 2.93367 15.9666 2.63725C15.8115 2.48198 15.6568 2.32638 15.5021 2.17078C14.9955 1.66134 14.4889 1.15189 13.9715 0.653761C12.0466 -1.22911 9.10467 1.34079 10.6014 3.48961L8.53326 5.55363L14.4158 11.4437Z"
                  fill="#474747"
                />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M1.17874 1.18028C1.39945 0.959283 1.7573 0.959283 1.97801 1.18028L18.8655 18.0893C19.0862 18.3103 19.0862 18.6686 18.8655 18.8896C18.6448 19.1106 18.2869 19.1106 18.0662 18.8896L1.17874 1.98056C0.958031 1.75957 0.958031 1.40127 1.17874 1.18028Z"
                  fill="#474747"
                />
              </svg>
              Bỏ ghim
            </div>
          )}
        </>
      )
    }
    // {
    //   key: "5",
    //   label: (
    //     <div onClick={() => setIsDelOpen(true)}>
    //       <svg
    //         xmlns="http://www.w3.org/2000/svg"
    //         width="20"
    //         height="20"
    //         viewBox="0 0 20 20"
    //         fill="none"
    //       >
    //         <path
    //           d="M3.52474 6.5198C2.48701 6.76012 1.51241 7.31772 0.796047 8.10897C0.212503 8.75379 0.534418 9.54989 1.11692 10.066C1.51781 10.4495 1.90602 10.8489 2.29426 11.2482C2.92172 11.8937 3.54925 12.5393 4.23043 13.1179C3.66498 13.9258 3.07839 14.7162 2.49228 15.5059C1.66272 16.6237 0.834116 17.7402 0.0677593 18.9031C-0.281188 19.7081 0.799001 20.3879 1.45185 19.7443C3.10685 18.4068 4.75712 17.0636 6.40265 15.7145C6.56896 15.5782 6.65338 15.5917 6.79814 15.7389C7.86273 16.8215 8.93337 17.8979 10.0101 18.9682C11.44 20.5006 12.5345 18.6067 13.1666 17.385C13.3063 17.0907 13.4162 16.7968 13.4959 16.5037L3.52474 6.5198Z"
    //           fill="#474747"
    //         />
    //         <path
    //           d="M14.4158 11.4437C14.5771 11.283 14.7387 11.1225 14.9003 10.9621C15.3796 10.4863 15.8588 10.0104 16.33 9.52819C16.4531 9.4043 16.5586 9.40381 16.7017 9.49386C16.9452 9.65327 17.2199 9.75878 17.5074 9.80333C17.7949 9.84787 18.0886 9.83043 18.3688 9.75216C19.7414 9.39493 20.7066 7.42842 19.3369 6.02444C18.5171 5.18422 17.6863 4.35487 16.8554 3.52552C16.559 3.22959 16.2625 2.93367 15.9666 2.63725C15.8115 2.48198 15.6568 2.32638 15.5021 2.17078C14.9955 1.66134 14.4889 1.15189 13.9715 0.653761C12.0466 -1.22911 9.10467 1.34079 10.6014 3.48961L8.53326 5.55363L14.4158 11.4437Z"
    //           fill="#474747"
    //         />
    //         <path
    //           fill-rule="evenodd"
    //           clip-rule="evenodd"
    //           d="M1.17874 1.18028C1.39945 0.959283 1.7573 0.959283 1.97801 1.18028L18.8655 18.0893C19.0862 18.3103 19.0862 18.6686 18.8655 18.8896C18.6448 19.1106 18.2869 19.1106 18.0662 18.8896L1.17874 1.98056C0.958031 1.75957 0.958031 1.40127 1.17874 1.18028Z"
    //           fill="#474747"
    //         />
    //       </svg>
    //       Bỏ ghim
    //     </div>
    //   )
    // }
  ];

  return (
    <>
      {/* {
        <Resender
          isModalCancel={isModalSend}
          setIsModalCancel={setIsModalSend}
          content={"Bạn có chắc chắn muốn gửi lại sms?"}
          title={"Xác nhận gửi lại sms"}
        />
      }
      {
        <Review
          isModalCancel={isModalCancel}
          setIsModalCancel={setIsModalCancel}
        />
      } */}
      <SendSMS
        isModalCancel={isModalSendSMS}
        setIsModalCancel={setIsModalSendSMS}
      />
      <div>
        <Dropdown menu={{ items }}>
          <button style={{ justifyContent: "center" }}>
            <img src="/crm/3_cham.png" style={{ margin: "-4px 0px" }} />
            Thao tác
          </button>
        </Dropdown>
      </div>
      {/* <DelActionModal
        isModalCancel={isDelOpen}
        setIsModalCancel={setIsDelOpen}
      /> */}
    </>
  );
};
